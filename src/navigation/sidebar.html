<div class="navbar-default sidebar" role="navigation">
    <div class="sidebar-nav navbar-collapse">
        <ul class="nav">
            <li class="sidebar-search">
                <div class="input-group custom-search-form">
                    <input type="text" class="form-control" placeholder="Search...">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button">
                            <i class="fa fa-search"></i>
                        </button>
                    </span>
                </div>
            </li>
            <li ng-repeat="item in items" ng-include="'sidebar-menu-item.html'"></li>
        </ul>
    </div>
</div>

<script type="text/ng-template" id="sidebar-menu-item.html">
    <a ng-if="item.state" ui-sref="{{item.state}}" ui-sref-active="active">
        <span class="fa fa-fw {{ item.iconClass}}"></span>
        <span> {{ item.text }}</span>
    </a>
    <a ng-if="!item.state && item.children"
       ng-click="item.isCollapsed = !item.isCollapsed">
        <span class="fa fa-fw {{ item.iconClass}}"></span>
        <span> {{ item.text }}</span>
        <span class="pull-right fa fa-fw" ng-class="item.isCollapsed ? 'fa-chevron-left' : 'fa-chevron-down'"></span>
    </a>
    <ul ng-if="!item.state && item.children" collapse="item.isCollapsed" class="nav nav-third-level">
        <li ng-repeat="item in item.children" ng-include="'sidebar-menu-item.html'"></li>
    </ul>
</script>
